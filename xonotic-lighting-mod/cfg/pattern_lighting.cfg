// ============================================================================
// Pattern Lighting Mod Configuration for Xonotic
// Based on Adaptive Entity Engine
// Version 1.0.0
// ============================================================================

echo "^2Loading Pattern Lighting Mod..."

// ============================================================================
// MAIN SETTINGS
// ============================================================================

// Enable pattern-based lighting system
set r_pattern_lighting 1 "Enable pattern lighting system"

// Global intensity multiplier
set r_pattern_intensity 1.0 "Global light intensity (0.0-2.0)"

// Pattern animation speed
set r_pattern_speed 1.0 "Pattern animation speed (0.1-3.0)"

// ============================================================================
// DIRECT LIGHTING
// ============================================================================

// Direct light color (RGB)
set r_pattern_direct_color "1 1 0.9" "Direct light color (warm white default)"

// Direct light intensity
set r_pattern_direct_intensity 1.0 "Direct light intensity"

// ============================================================================
// INDIRECT / AMBIENT LIGHTING
// ============================================================================

// Indirect light color (sky bounce)
set r_pattern_indirect_color "0.4 0.5 0.7" "Indirect light color (blue sky)"

// Indirect light intensity
set r_pattern_indirect_intensity 0.3 "Indirect light intensity"

// Ambient base color
set r_pattern_ambient_color "0.1 0.1 0.15" "Ambient color"

// Ambient occlusion strength
set r_pattern_ao_strength 0.8 "AO influence (0.0-1.0)"

// ============================================================================
// SCREEN-SPACE REFLECTIONS
// ============================================================================

// Enable SSR
set r_ssr_enable 1 "Enable screen-space reflections"

// Maximum trace distance
set r_ssr_maxdist 100 "SSR maximum distance"

// Ray step size
set r_ssr_stride 1 "SSR ray stride"

// Depth threshold for hits
set r_ssr_thickness 0.5 "SSR thickness threshold"

// Maximum ray steps
set r_ssr_maxsteps 64 "SSR max steps (16-128)"

// Fade at edges
set r_ssr_fade 0.9 "SSR edge fade"

// ============================================================================
// POST-PROCESSING
// ============================================================================

// Bloom
set r_pp_bloom 1 "Enable bloom"
set r_pp_bloom_intensity 0.3 "Bloom intensity"
set r_pp_bloom_threshold 0.8 "Bloom brightness threshold"

// Color grading
set r_pp_exposure 0 "Exposure adjustment (-2 to +2)"
set r_pp_contrast 1.0 "Contrast (0.5-2.0)"
set r_pp_saturation 1.0 "Saturation (0-2.0)"
set r_pp_temperature 0 "Color temperature (-1 cool, +1 warm)"

// Vignette
set r_pp_vignette 1 "Enable vignette"
set r_pp_vignette_intensity 0.3 "Vignette intensity"

// Chromatic aberration
set r_pp_chromatic 0 "Enable chromatic aberration"
set r_pp_chromatic_intensity 0.01 "Chromatic aberration intensity"

// Film grain
set r_pp_filmgrain 0 "Enable film grain"
set r_pp_filmgrain_intensity 0.05 "Film grain intensity"

// ============================================================================
// KEYBINDS
// ============================================================================

// Open settings menu
alias pl_menu "cmd patternlighting_menu"
bind F8 pl_menu

// Quick toggles
alias pl_toggle "toggle r_pattern_lighting"
alias pl_ssr_toggle "toggle r_ssr_enable"
alias pl_bloom_toggle "toggle r_pp_bloom"

// ============================================================================
// PRESETS
// ============================================================================

// Cinematic preset
alias pl_preset_cinematic "r_pattern_intensity 1.2; r_ssr_enable 1; r_ssr_maxsteps 64; r_pp_bloom 1; r_pp_bloom_intensity 0.4; r_pp_contrast 1.1; r_pp_saturation 1.1; r_pp_vignette 1; r_pp_vignette_intensity 0.4; r_pp_chromatic 1; r_pp_filmgrain 1; echo Cinematic preset applied"

// Performance preset
alias pl_preset_performance "r_pattern_intensity 1.0; r_ssr_enable 0; r_pp_bloom 0; r_pp_vignette 0; r_pp_chromatic 0; r_pp_filmgrain 0; echo Performance preset applied"

// Ultra preset
alias pl_preset_ultra "r_pattern_intensity 1.0; r_ssr_enable 1; r_ssr_maxdist 200; r_ssr_maxsteps 128; r_pp_bloom 1; r_pp_bloom_intensity 0.3; r_pp_vignette 1; echo Ultra preset applied"

// ============================================================================
// INITIALIZATION
// ============================================================================

echo "^2Pattern Lighting Mod loaded successfully!"
echo "^3Press F8 to open settings menu"
echo "^7Available presets: pl_preset_cinematic, pl_preset_performance, pl_preset_ultra"
